<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Street View Add Third Panel</title>
		<style>
			html, body {
				height: 100%;
				margin: 0;
				padding: 0;
			}
			#map {
				float: left;
				height: 100%;
				width: 45%;
			}
			#pano {
				width: 50%;
				height: 100%;
			}
			#floating-panel {
				position: absolute;
				top: 10px;
				left: 25%;
				z-index: 5;
				background-color: #fff;
				padding: 5px;
				border: 1px solid #999;
				text-align: center;
				font-family: 'Roboto','sans-serif';
				line-height: 30px;
				padding-left: 10px;
			}
			#floating-panel {
				width: 45%;
				height: 100%;
				float: right;
				text-align: left;
				overflow: auto;
				position: static;
				border: 0px solid #999;
			}
		</style>
	</head>
	<body>
		<div id="map"></div>
		<div id="pano"></div>
		<div id="floating-panel">
		<table>
			<tr>
				<td><b>Position</b></td><td id="position-cell">&nbsp;</td>
			</tr>
			<tr>
				<td><b>POV Heading</b></td><td id="heading-cell">270</td>
			</tr>
			<tr>
				<td><b>POV Pitch</b></td><td id="pitch-cell">0.0</td>
			</tr>
			<tr>
				<td><b>Pano ID</b></td><td id="pano-cell">&nbsp;</td>
			</tr>
			<tr>
				<td><b>Turn Left</b></td><td id="position-cell">&nbsp;</td>
			</tr>
			<tr>
				<td><b>Turn Right</b></td><td id="position-cell">&nbsp;</td>
			</tr>
			<tr>
				<td><b>Skip Forward</b></td><td id="position-cell">&nbsp;</td>
			</tr>
			<tr>
				<td><b>Skip Back</b></td><td id="position-cell">&nbsp;</td>
			</tr>
			<table id="links_table"></table>
		</table>
    <script>

		function initialize() {
			var fenway = {lat: 42.345573, lng: -71.098326};
			var map = new google.maps.Map(document.getElementById('map'), {
				center: fenway,
				zoom: 14
			});
			var panorama = new google.maps.StreetViewPanorama(
				document.getElementById('pano'), {
					position: fenway,
					pov: {
						heading: 34,
						pitch: 10
					}
				});
			map.setStreetView(panorama);
		}

		function initPano() {
			var panorama = new google.maps.StreetViewPanorama(
				document.getElementById('pano'), {
					position: {lat: 37.869, lng: -122.255},
					pov: {
						heading: 270,
						pitch: 0
					},
				visible: true
				});
		
			panorama.addListener('pano_changed', function() {
				var panoCell = document.getElementById('pano-cell');
				panoCell.innerHTML = panorama.getPano();
			});

			panorama.addListener('links_changed', function() {
				var linksTable = document.getElementById('links_table');
				while (linksTable.hasChildNodes()) {
					linksTable.removeChild(linksTable.lastChild);
				}
				var links = panorama.getLinks();
				for (var i in links) {
					var row = document.createElement('tr');
					linksTable.appendChild(row);
					var labelCell = document.createElement('td');
					labelCell.innerHTML = '<b>Link: ' + i + '</b>';
					var valueCell = document.createElement('td');
					valueCell.innerHTML = links[i].description;
					linksTable.appendChild(labelCell);
					linksTable.appendChild(valueCell);
				}
			});

			panorama.addListener('position_changed', function() {
				var positionCell = document.getElementById('position-cell');
				positionCell.firstChild.nodeValue = panorama.getPosition() + '';
			});

			panorama.addListener('pov_changed', function() {
				var headingCell = document.getElementById('heading-cell');
				var pitchCell = document.getElementById('pitch-cell');
				headingCell.firstChild.nodeValue = panorama.getPov().heading + '';
				pitchCell.firstChild.nodeValue = panorama.getPov().pitch + '';
			});
		}
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAC4kXIhkfQCR3Mv0-eUD-i500s__mwElk&callback=initialize">
    </script>
  </body>
</html>