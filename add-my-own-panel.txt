<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Street View Add Third Panel</title>
		<style>
			html, body {
				height: 100%;
				margin: 0;
				padding: 0;
			}
			#map {
				float: left;
				height: 50%;
				width: 50%;
			}
			#pano {
				width: 100%;
				height: 50%;
			}
			#floating-panel {
				float: right;
				width: 50%;
				height: 50%;
			}
		</style>
	</head>
	<body>
		<div id="map"></div>
		<div id="floating-panel">
		<table>
			<tr>
				<td><b>Position</b></td><td id="position-cell">&nbsp;</td>
			</tr>
			<tr>
				<td><b>POV Heading</b></td><td id="heading-cell">270</td>
			</tr>
			<tr>
				<td><b>POV Pitch</b></td><td id="pitch-cell">0.0</td>
			</tr>
			<tr>
				<td><b>Pano ID</b></td><td id="pano-cell">&nbsp;</td>
			</tr>
			<tr>
				<input type="button" value="Turn Left" onclick="changeHeading(-5);">
			</tr>
			<tr>
				<input type="button" value="Turn Right" onclick="changeHeading(-5);">
			</tr>
			<tr>
				<input type="button" value="Go Forward" onclick="changeHeading(-5);">
			</tr>
			<tr>
				<input type="button" value="Go Backward" onclick="changeHeading(-5);">
			</tr>
			<table id="links_table"></table>
		</table></div>
		

		
		<div id="pano"></div>
    <script>
	
	// TURN LEFT
	function TurnLeft(turnLeftControlDiv, map) {
	
		// Set CSS for the control border.
        var turnLeftControlUI = document.createElement('div');
        turnLeftControlUI.style.backgroundColor = '#fff';
        turnLeftControlUI.style.border = '2px solid #fff';
        turnLeftControlUI.style.borderRadius = '3px';
        turnLeftControlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
        turnLeftControlUI.style.cursor = 'pointer';
        turnLeftControlUI.style.marginBottom = '22px';
        turnLeftControlUI.style.textAlign = 'center';
        turnLeftControlUI.title = 'Click to turn left';
        turnLeftControlDiv.appendChild(turnLeftControlUI);

        // Set CSS for the control interior.
        var turnLeftControlText = document.createElement('div');
        turnLeftControlText.style.color = 'rgb(25,25,25)';
        turnLeftControlText.style.fontFamily = 'Roboto,Arial,sans-serif';
        turnLeftControlText.style.fontSize = '16px';
        turnLeftControlText.style.lineHeight = '38px';
        turnLeftControlText.style.paddingLeft = '5px';
        turnLeftControlText.style.paddingRight = '5px';
        turnLeftControlText.innerHTML = 'Turn Left';
        turnLeftControlUI.appendChild(turnLeftControlText);
		
		var heading = map.getHeading() || 0;
		turnLeftControlUI.addEventListener('click', function() {
			map.setHeading(heading + 1);
        });

	}
	
	TurnLeft(turnLeftControlDiv, map); 
	
	// TURN RIGHT
	function TurnRight(turnRightControlDiv, map) {

        // Set CSS for the control border.
        var turnRightControlUI = document.createElement('div');
        turnRightControlUI.style.backgroundColor = '#fff';
        turnRightControlUI.style.border = '2px solid #fff';
        turnRightControlUI.style.borderRadius = '3px';
        turnRightControlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
        turnRightControlUI.style.cursor = 'pointer';
        turnRightControlUI.style.marginBottom = '22px';
        turnRightControlUI.style.textAlign = 'center';
        turnRightControlUI.title = 'Click to turn right';
        turnRightControlDiv.appendChild(turnRightControlUI);

        // Set CSS for the control interior.
        var turnRightControlText = document.createElement('div');
        turnRightControlText.style.color = 'rgb(25,25,25)';
        turnRightControlText.style.fontFamily = 'Roboto,Arial,sans-serif';
        turnRightControlText.style.fontSize = '16px';
        turnRightControlText.style.lineHeight = '38px';
        turnRightControlText.style.paddingLeft = '5px';
        turnRightControlText.style.paddingRight = '5px';
        turnRightControlText.innerHTML = 'Turn Right';
        turnRightControlUI.appendChild(turnRightControlText);
			
		var heading = map.getHeading() || 0;
		turnRightControlUI.addEventListener('click', function() {
			map.setHeading(heading + 1);
        });

	}
	
	// GO FORWARD
	function GoForward(goForwardControlDiv, map) {

        // Set CSS for the control border.
        var goForwardControlUI = document.createElement('div');
        goForwardControlUI.style.backgroundColor = '#fff';
        goForwardControlUI.style.border = '2px solid #fff';
        goForwardControlUI.style.borderRadius = '3px';
        goForwardControlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
        goForwardControlUI.style.cursor = 'pointer';
        goForwardControlUI.style.marginBottom = '22px';
        goForwardControlUI.style.textAlign = 'center';
        goForwardControlUI.title = 'Click to go forward';
        goForwardControlDiv.appendChild(goForwardControlUI);

        // Set CSS for the control interior.
        var goForwardControlText = document.createElement('div');
        goForwardControlText.style.color = 'rgb(25,25,25)';
        goForwardControlText.style.fontFamily = 'Roboto,Arial,sans-serif';
        goForwardControlText.style.fontSize = '16px';
        goForwardControlText.style.lineHeight = '38px';
        goForwardControlText.style.paddingLeft = '5px';
        goForwardControlText.style.paddingRight = '5px';
        goForwardControlText.innerHTML = 'Go Forward';
        goForwardControlUI.appendChild(goForwardControlText);
		
		var heading = map.getHeading() || 0;
		goForwardControlUI.addEventListener('click', function() {
			map.setHeading(heading + 1);
        });
			

	}
	
	// GO BACK
	function GoBack(goBackControlDiv, map) {

        // Set CSS for the control border.
        var goBackControlUI = document.createElement('div');
        goBackControlUI.style.backgroundColor = '#fff';
        goBackControlUI.style.border = '2px solid #fff';
        goBackControlUI.style.borderRadius = '3px';
        goBackControlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';
        goBackControlUI.style.cursor = 'pointer';
        goBackControlUI.style.marginBottom = '22px';
        goBackControlUI.style.textAlign = 'center';
        goBackControlUI.title = 'Click to go backward';
        goBackControlDiv.appendChild(goBackControlUI);

        // Set CSS for the control interior.
        var goBackControlText = document.createElement('div');
        goBackControlText.style.color = 'rgb(25,25,25)';
        goBackControlText.style.fontFamily = 'Roboto,Arial,sans-serif';
        goBackControlText.style.fontSize = '16px';
        goBackControlText.style.lineHeight = '38px';
        goBackControlText.style.paddingLeft = '5px';
        goBackControlText.style.paddingRight = '5px';
        goBackControlText.innerHTML = 'Go Backward';
        goBackControlUI.appendChild(goBackControlText);
		
		var heading = map.getHeading() || 0;
		goBackControlUI.addEventListener('click', function() {
			map.setHeading(heading + 1);
        });
			

	}
	
	
	
	
	function initialize() {
		var fenway = {lat: 42.345573, lng: -71.098326};
		var map = new google.maps.Map(document.getElementById('map'), {
			center: fenway,
			zoom: 14
		});
		var panorama = new google.maps.StreetViewPanorama(
			document.getElementById('pano'), {
				position: fenway,
				pov: {
					heading: 34,
					pitch: 10
				}
			});
		map.setStreetView(panorama);
		
		panorama.addListener('pano_changed', function() {
			var panoCell = document.getElementById('pano-cell');
			panoCell.innerHTML = panorama.getPano();
		});
		panorama.addListener('links_changed', function() {
			var linksTable = document.getElementById('links_table');
			while (linksTable.hasChildNodes()) {
				linksTable.removeChild(linksTable.lastChild);
			}
			var links = panorama.getLinks();
			for (var i in links) {
				var row = document.createElement('tr');
				linksTable.appendChild(row);
				var labelCell = document.createElement('td');
				labelCell.innerHTML = '<b>Link: ' + i + '</b>';
				var valueCell = document.createElement('td');
				valueCell.innerHTML = links[i].description;
				linksTable.appendChild(labelCell);
				linksTable.appendChild(valueCell);
			}
		});
		panorama.addListener('position_changed', function() {
			var positionCell = document.getElementById('position-cell');
			positionCell.firstChild.nodeValue = panorama.getPosition() + '';
		});
		panorama.addListener('pov_changed', function() {
			var headingCell = document.getElementById('heading-cell');
			var pitchCell = document.getElementById('pitch-cell');
			headingCell.firstChild.nodeValue = panorama.getPov().heading + '';
			pitchCell.firstChild.nodeValue = panorama.getPov().pitch + '';
		});
		
		
		
		// TURN LEFT INIT
        var turnLeftControlDiv = document.createElement('div');
        var turnLeftControl = new TurnLeft(turnLeftControlDiv, map);

        turnLeftControlDiv.index = 1;
        map.controls[google.maps.ControlPosition.TOP_CENTER].push(turnLeftControlDiv);
		
		// TURN RIGHT INIT
		var turnRightControlDiv = document.createElement('div');
        var turnRightControl = new TurnRight(turnRightControlDiv, map);

        turnRightControlDiv.index = 1;
        map.controls[google.maps.ControlPosition.TOP_CENTER].push(turnRightControlDiv);
		
		// GO FORWARD INIT
		var goForwardControlDiv = document.createElement('div');
        var goFowardControl = new GoForward(goForwardControlDiv, map);

        goForwardControlDiv.index = 1;
        map.controls[google.maps.ControlPosition.TOP_CENTER].push(goForwardControlDiv);
		
		// GO BACK INIT
		var goBackControlDiv = document.createElement('div');
        var goBackControl = new GoBack(goBackControlDiv, map);

        goBackControlDiv.index = 1;
        map.controls[google.maps.ControlPosition.TOP_CENTER].push(goBackControlDiv);
	}
	
	
    </script>
    <script async defer
        src="http://maps.googleapis.com/maps/api/js?callback=initialize">
    </script>
  </body>
</html>